function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function r(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function n(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){l=!0,u=t},f:function(){try{a||null==e.return||e.return()}finally{if(l)throw u}}}}var e={},o=[];function i(t,r){e[t]=r(),o.push({name:t,options:e[t]})}function u(r,e){var i;3===r.nodeType&&(r.nodeValue=null===(i=r.nodeValue)||void 0===i?void 0:i.replace(/\{\{([^\}]*)\}\}/g,(function(r,n){var o=l(n,e);return"object"===t(o)&&(o=JSON.stringify(o,null,2)),o}))),r.attributes&&o.map((function(t){r.getAttribute(t.name)&&r.parentNode&&t.options.link(e,r,r.attributes)}));var a,f=n(r.childNodes);try{for(f.s();!(a=f.n()).done;){u(a.value,e)}}catch(t){f.e(t)}finally{f.f()}}function a(t,r){if("true"===r)return!0;if("false"===r)return!1;if(void 0!==t[r])return t[r];var n=r.indexOf(".");if(n>-1){var e=r.substr(0,n);if(r=r.substr(n+1),void 0!==t[e])return a(t[e],r)}return""}function l(t,r){return t=t.replace(/[a-zA-Z_\$]+[\w\$]*(?:\s*\.\s*(?:[a-zA-Z_\$]+[\w\$]*|\d+))*/g,(function(t){return"value(scope,'".concat(t.trim(),"')")})),new Function("value","return (scope)=>".concat(t))(a)(r)}export default function(t,r){i("html",(function(){return{priority:9,link:function(t,r){var n,e=l(null!==(n=r.getAttribute("html"))&&void 0!==n?n:"",t);e&&(r.innerHTML=e)}}})),i("text",(function(){return{priority:9,link:function(t,r){var n,e=l(null!==(n=r.getAttribute("text"))&&void 0!==n?n:"",t);e&&(r.innerText=e)}}})),i(":class",(function(){return{link:function(t,r){var e,o,i,u=[],a=n((null!==(o=r.getAttribute(":class"))&&void 0!==o?o:"").split("|"));try{for(a.s();!(i=a.n()).done;){var f=i.value.split(":");l(f[1],t)&&u.push(f[0])}}catch(t){a.e(t)}finally{a.f()}(e=r.classList).add.apply(e,u),r.removeAttribute(":class")}}})),i("for",(function(){return{priority:10,link:function(t,r){var n,e=null!==(n=r.getAttribute("for"))&&void 0!==n?n:"";if(e.includes(" in ")){var o="",i="",l="$index";e=e.replace(/\s+by\s+([^\s]+)$/,(function(t,r){return r&&(l=(r||"").trim()),""}));var f=/([^\s]+)\s+in\s+([^\s]+)|\(([^,]+)\s*,\s*([^)]+)\)\s+in\s+([^\s]+)/.exec(e);if(f){if(f[1]&&f[2]){if(o=(f[1]||"").trim(),i=(f[2]||"").trim(),!o||!i)return}else f[3]&&f[4]&&f[5]&&(l=(f[3]||"").trim(),o=(f[4]||"").trim(),i=(f[5]||"").trim());var c=a(t,i)||[],s=function(n){var e=r.cloneNode(!0),i={};i[l]=n,i[o]=c[n],i.__proto__=t,r.parentNode.insertBefore(e,r),u(e,i)};r.removeAttribute("for");var p=function(t){return Object.prototype.toString.call(t).toLowerCase().slice(8,-1)}(c);if("array"==p)for(var v=0;v<c.length;v++)s(v);else if("object"==p)for(var d in c)c.hasOwnProperty(d)&&s(d);r.parentNode.removeChild(r)}}}}})),i("if",(function(){return{priority:9,link:function(t,r){var n=r.getAttribute("if"),e=r.nextElementSibling;l(n,t)?!!(null!=e?e:null!=e.getAttribute("else"))&&e.parentNode&&e.parentNode.removeChild(e):r.parentNode&&r.parentNode.removeChild(r)}}})),o.sort((function(t,r){return Number(r.options.priority||0)-Number(t.options.priority||0)}));var e=document.createElement("div");e.innerHTML=t;var f,c=n(e.childNodes);try{for(c.s();!(f=c.n()).done;){u(f.value,r)}}catch(t){c.e(t)}finally{c.f()}return e.innerHTML}
